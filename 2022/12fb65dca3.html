<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xuzikun.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null,"activeClass":"livere"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="《Cylindrical and Asymmetrical 3D Convolution Networks for LiDAR Segmentation》读书笔记 [TOC] 这篇文章很重要，2020的SOTA，直到2022也有很多工作将其作为baseline，而且文章贴出了代码。有很大的可能我的毕设也会在这项工作上进行改进。这篇blog会尽量从论文和代码两个角度，深度剖析Cylind">
<meta property="og:type" content="article">
<meta property="og:title" content="《Cylindrical and Asymmetrical 3D Convolution Networks for LiDAR Segmentation》读书笔记">
<meta property="og:url" content="http://xuzikun.com/2022/12fb65dca3.html">
<meta property="og:site_name" content="小徐的Blog">
<meta property="og:description" content="《Cylindrical and Asymmetrical 3D Convolution Networks for LiDAR Segmentation》读书笔记 [TOC] 这篇文章很重要，2020的SOTA，直到2022也有很多工作将其作为baseline，而且文章贴出了代码。有很大的可能我的毕设也会在这项工作上进行改进。这篇blog会尽量从论文和代码两个角度，深度剖析Cylind">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212211521209.png">
<meta property="og:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212212201070.png">
<meta property="og:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212212205355.png">
<meta property="og:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220745063.png">
<meta property="og:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220903451.webp">
<meta property="og:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220839245.png">
<meta property="og:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220842768.png">
<meta property="article:published_time" content="2022-12-21T07:01:11.623Z">
<meta property="article:modified_time" content="2022-12-22T03:53:58.151Z">
<meta property="article:author" content="小徐">
<meta property="article:tag" content="DL">
<meta property="article:tag" content="Lidar">
<meta property="article:tag" content="Segmentation">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/easonxu01/blogimg/raw/master/img/202212211521209.png">

<link rel="canonical" href="http://xuzikun.com/2022/12fb65dca3.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>《Cylindrical and Asymmetrical 3D Convolution Networks for LiDAR Segmentation》读书笔记 | 小徐的Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/rss2.xml" title="小徐的Blog" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">小徐的Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档<span class="badge">10</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xuzikun.com/2022/12fb65dca3.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="小徐">
      <meta itemprop="description" content="今天珍惜今天">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小徐的Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          《Cylindrical and Asymmetrical 3D Convolution Networks for LiDAR Segmentation》读书笔记
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-21 15:01:11" itemprop="dateCreated datePublished" datetime="2022-12-21T15:01:11+08:00">2022-12-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-12-22 11:53:58" itemprop="dateModified" datetime="2022-12-22T11:53:58+08:00">2022-12-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DL/" itemprop="url" rel="index"><span itemprop="name">DL</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DL/Segmentation/" itemprop="url" rel="index"><span itemprop="name">Segmentation</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><meta name="referrer" content="no-referrer">
<h1 id="cylindrical-and-asymmetrical-3d-convolution-networks-for-lidar-segmentation 读书笔记">《Cylindrical
and Asymmetrical 3D Convolution Networks for LiDAR
Segmentation》读书笔记</h1>
<p>[TOC]</p>
<p>这篇文章很重要，2020 的 SOTA，直到 2022 也有很多工作将其作为 baseline，而且文章贴出了代码。有很大的可能我的毕设也会在这项工作上进行改进。这篇 blog 会尽量从论文和代码两个角度，深度剖析 Cylinder3D 这项工作。</p>
<p><strong style="color:#00b050;">“学会使用 Cylinder3D，看这一篇就够了！”</strong></p>
<h2 id="论文解读">论文解读</h2>
<h3 id="abstract-introduction">abstract &amp; introduction</h3>
<p>在大规模行车场景分割的问题下，对于点云的处理方法通常是将点云投影到 <strong style="color:#ff0000;">2 维空间</strong>，然后使用 2D 卷积进行处理，但是这样做会<strong style="color:#ff0000;"> 忽视点云的 3D 拓扑和几何关系 </strong>。自然的想法是利用<strong style="color:#ff0000;">3D 体素划分和卷积网络</strong>，然而对于室外场景，由于<strong style="color:#ff0000;"> 点云稀疏性（sparsity）和密度可变性（varying
density）</strong>，这种方法效果并不太好。</p>
<p>受上面研究的启发，作者提出了一种用于户外激光雷达分割的新框架，该框架设计了 <strong style="color:#ff0000;"> 圆柱形分割（cylinder
partition）和非对称三维卷积网络（asymmetry 3D convolution
network）</strong>，以探索三维几何模式，同时保持这些固有特性。</p>
<blockquote>
<p><strong style="color:#00b0f0;">即本文最重要的两个创新点</strong></p>
</blockquote>
<p>此外，还引入逐点细化模块（point-wise refinement
module）来降低有损体素标签编码的干扰。</p>
<blockquote>
<p><strong style="color:#00b0f0;">这一点其实没有在代码中体现出来，作者没有 release 这一部分的代码</strong></p>
</blockquote>
<p>本文的工作在 SemanticKITTI 和 nuScenes 两个大规模数据集上评估了所提出的模型。在 SemanticKITTI 排行榜上获得了第一名，并且在 nuScenes 上以 4% 的显著优势超过了现有的方法。此外，所提出的三维框架对激光雷达全景分割和激光雷达三维检测也有很好的推广意义。</p>
<span id="more"></span>
<figure>
<img src="https://gitee.com/easonxu01/blogimg/raw/master/img/202212211521209.png" alt="image-20221221152120889">
<figcaption aria-hidden="true">image-20221221152120889</figcaption>
</figure>
<ul>
<li>柱坐标系划分：离原点越远，点云越稀疏，但是 cell 的体积是较大的，保证了 cell 中点云分布的均匀性</li>
<li>非对称三维卷积网络：通过增强水平核和垂直核来匹配驾驶场景中物体的点分布，增强了点云稀疏性的鲁棒性</li>
<li>point-wise refinement
module：柱划分导致不同类别的点在相同的 cell 中，导致 cell 的 label 在编码时出现信息损失，由此提出 point-wise 增强模块
<ul>
<li>point-wise 模块：在论文中有提及思想，但是没有具体的工程代码</li>
</ul></li>
<li>本文贡献：
<ul>
<li>将室外 LiDER 场景分割从二维映射转为 3 维结构，考虑了点云固有的两个特性</li>
<li>提出一种新的框架，利用圆柱体分割和非对称卷积网络克服点云固有特性</li>
<li>在两个数据集上达到 sota</li>
</ul></li>
</ul>
<h3 id="related-works">related works</h3>
<h4 id="室内点云分割">室内点云分割</h4>
<p>主流方法有两种：</p>
<ul>
<li>基于直接点云数据的，eg：PointNet</li>
<li>基于聚类算法提取层次特征的</li>
</ul>
<p>室内点云分割的方法依赖于点云分布的 <strong> 均匀性 </strong> 和<strong>密度不变性</strong>，不适用于直接迁移到室外点云分割</p>
<h4 id="室外点云分割">室外点云分割</h4>
<ul>
<li>现有的主流方法主要是集中在将 3D 点云转换为 2D 网格，在此基础上使用 2D 卷积，eg：SqueezeSeg，Darknet，rangenet++</li>
<li>这种 3D-to-2D 的方法会损失点云的 3D 几何特征</li>
</ul>
<h4 id="d 体素划分">3D 体素划分</h4>
<p>这种方法将点云分割成一个个体素，可以保持点云的 3D 特性，也能适用 3D 卷积神经网络。</p>
<p><strong style="color:#ff0000;">值得注意的是，以往工作都忽视了点云的稀疏性和密度不均匀性。</strong></p>
<h3 id="methodology">Methodology</h3>
<h4 id="框架"><strong>框架</strong></h4>
<ul>
<li>step1 ：圆柱体素划分，将点云划分到每一个柱体 cell</li>
<li>step2：应用非对称 3D 卷积网络，得到 cell-label 的输出</li>
<li>step3：使用 point-wise module，细化 cell-label（代码无体现）</li>
</ul>
<figure>
<img src="https://gitee.com/easonxu01/blogimg/raw/master/img/202212212201070.png" alt="image-20221221220125957">
<figcaption aria-hidden="true">image-20221221220125957</figcaption>
</figure>
<h4 id="cylindrical-partition">Cylindrical Partition</h4>
<figure>
<img src="https://gitee.com/easonxu01/blogimg/raw/master/img/202212212205355.png" alt="image-20221221220558263">
<figcaption aria-hidden="true">image-20221221220558263</figcaption>
</figure>
<ul>
<li>流程：
<ul>
<li>首先将点从笛卡尔坐标系转移到圆柱坐标系，即从 (x,y,z) 转换为 (ρ,θ,z)
。其中 ρ 为 x-y
轴到原点的距离，θ为 x 轴到 y 轴的角度。然后进行柱坐标系划分（split）（在 cylinder 坐标中，越远的 region，cell 越大。）</li>
<li>最后这些 cylinder grid representation 被喂入 MLP-based pointnet
中获得 的 point-wise
特征。根据分区的情况重新划分 MLP 得到的特征，生成圆柱体特征</li>
</ul></li>
<li>输入：点云数据</li>
<li>输出：3D 柱体划分（C ∗ H ∗ W ∗ L
），C 是特征维度，H 是半径，W 是方位角度，L 是高度</li>
<li>划分方式：划分成个数为 480 ∗ 360 ∗ 32 的体素，这三个数字分别表示 半径
* 角度 * 高度</li>
</ul>
<h4 id="asymmetrical-3d-convolution-network">Asymmetrical 3D Convolution
Network</h4>
<p>motivation：得到了柱坐标中的 voxel，接下来就是 Encoder 和 Decoder 的过程。柱坐标中的 voxel 表示形式了普通的三维栅格没有区别，都是规则化的八连接，所以就可以直接用 3D
Sparse Convolution。那么实际上也是这么做的。只不过具体实现上，不是用
3x3x3 的卷积核，而是使用非对称的卷积形式，也就是 Asymmetrical Residual
Block。</p>
<p>由于驾驶场景点云进行特定物体形状分布，包括汽车、卡车、公共汽车、摩托车和其他立方体物体，模型旨在遵循这一观察来增强标准
3D
卷积的表示能力。此外，这种不对称的残差块也大大降低了传统三维卷积核的计算成本。</p>
<p>3 个关键模块：</p>
<ul>
<li>非对称上采样（AU）</li>
<li>非对称下采样（AD）</li>
<li>基于上下文的维度分解（DDCM）</li>
</ul>
<p>具体结构见 figure2 下半部分</p>
<blockquote>
<p>具体来说，使用内核 =3×1×3 的卷积，然后再使用 1×3×3 的卷积，相当于滑动两层网络，其接受域与内核 =3×3×3 的三维卷积相同，但它的计算成本比输出滤波器数量相同的 3×3×3 卷积少 33%。</p>
</blockquote>
<p>如图所示，Asymmetry Residual Block 将 3×3×3 卷积拆分成 1×3×3 和 3×1×3
两种，这样作有两个好处：</p>
<ul>
<li>由于待检测的目标都接近于长方体，这种卷积形式更有利于提取 <strong> 长方体样式的特征</strong>；</li>
<li>减少 33% 的计算量，类似 Depth-wise Convolution；</li>
</ul>
<p>提出的非对称残差块（A）是下采样块（D）和上采样块（U）的基本组成部分。</p>
<ul>
<li>对于下采样块（D），它包括一个非对称残差块和一个跨度 =2 的三维卷积来执行下采样。</li>
<li>上采样块（U）包含了低级别的特征，并通过非对称残差块（A）处理融合后的特征。</li>
</ul>
<h5 id="asymmetrical-residual-block">Asymmetrical Residual Block</h5>
<p>不对称残差块受[40,
11]中观察和结论的启发，不对称残差块加强了水平和垂直内核，匹配驾驶场景中物体的点分布，明确地使内核的骨架强大，从而增强室外激光雷达点云对稀疏性的鲁棒性。作者以汽车和摩托车为例来展示图
5 中的非对称残差块。</p>
<ul>
<li>非对称残差模块增强了水平和垂直的 kernel，增加鲁棒性</li>
<li>将非对称残差块和上下采样块进行堆叠，得到了非对称卷积网络</li>
</ul>
<p><img src="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220745063.png" alt="image-20221222074535970" style="zoom:67%;"></p>
<h5 id="dimension-decomposition-based-context-modeling">Dimension-Decomposition
based Context Modeling</h5>
<p>Motivation：由于情境的种类繁多（对于三维空间，其情境因点云而异，应具有较大的多样性），情境张量应是高秩的
high-rank [27，28]，以有足够的容量来编码情境信息。由于情境的 high-rank
特性，为这种情境特征建模需要巨大的成本，尤其是在三维空间。</p>
<p>所以利用矩阵分解的思想（the high-rank matrix decomposition
theory,），将其用 height，width，depth 三维的 low-rank
向量来权重化表达，由此设计如图 4. 中的 DDCM 模块。</p>
<ul>
<li>用 3 个 rank-1 的 kernel 得到低等级的特征，然后聚合得到高级特征。这是因为直接得到高级的上下文特征需要耗费很大的算力和内存，因此采用低级特征聚合成高级特征的方式。</li>
</ul>
<figure>
<img src="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220903451.webp" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>该模块将三个方向的特征计算各自的权重，然后与原始特征作权重化整合。输出的特征用于最终的预测，预测输出是
Voxel-based，维度为 Class×H×W×L
。其实就是在得到 voxel-wise 的 feature 之后，预测 voxel-wise 的 label 之前，加个这种卷积。</p>
<h4 id="point-wise-refinement-module">Point-wise Refinement Module</h4>
<p><strong>块点结合检测方法的优势分析：</strong>区块检测的方法是目前常用的方法，但不管是基于立方体还是基于圆柱体的方法都有一个不可避免的缺点，即不同类别的点可能被划分到同一个 cell 中，这将导致导致信息的丢失而影响精度。而采用块点结合的方式，能够有效的缓解错误 cell-label 编码的干扰，而提高识别的精度。</p>
<p><strong>具体的实现方式：</strong>首先，基于 point-voxel 映射表将 voxel-wise 特征投影到 point-wise。然后，point-wise 模块将
3D 卷积网络前后的点特征作为输入，并将它们融合在一起以细化输出。</p>
<p>在得到 voxel-wise 的 feature 之后，可以映射回 point-wise，这块我在代码中没有找到，简单的话可以认为是复制过去，复杂的话可以用插值的方法。然后再使用 MLP 得到 point-wise 的 label。</p>
<p>point-wise refinement module
并没有 release 出来，作者说这部分作用很小</p>
<p>Q：
那我有个问题，如果不做 point-wise 的话，voxel 的分辨率是小于 point-wise 的。那岂不是输出的点的数量是少于原始点云的。那怎么上传结果啊</p>
<p>A：我看了下代码，作者就是简单地让一个 voxel 里所有点的 label，都等于这个 voxel 的 label。
具体实现在 train_cylinder_asym.py 的 104-105 行：predict_labels[count,
val_grid[count][:, 0], val_grid[count][:, 1], val_grid[count][:,
2]]。</p>
<p>这里，predict_labels 是 vexel-wise label，中括号里的索引是 point-wise
grid index， 输出的就是 point-wise label 了，数量也就变成了 point
size 了</p>
<p>获得 voxel 的 label，然后将当前 voxel 中的所有点预测为统一个 label</p>
<ul>
<li>基于分割的方法会对每一个 cell 都打上一个 label，但由于分割时会把不同种类的点分在同一个 cell，导致 label 不标准，基于此引入 point-wise
module 进行矫正</li>
<li>过程
<ul>
<li>基于 point-voxel 映射图将 voxel 特征投影到点上</li>
<li>然后此模块将进入 3D 卷积网络前后的点特征融合起来作为输入来细化 label</li>
</ul></li>
<li>无对应代码</li>
</ul>
<h4 id="目标函数">目标函数</h4>
<ul>
<li>包含两个部分：lovasz loss 和 交叉熵 loss</li>
<li>优化器：Adam</li>
<li>学习率：1e-3</li>
</ul>
<h3 id="实验部分">实验部分</h3>
<p>在本节中，我们首先提供详细的实验设置，然后评估所提出的方法在两个大规模的数据集，即 SemanticKITTI 和 nuScenes。此外，还进行了广泛的消融研究来验证每个成分。最后将该方法推广到 Li-
DAR 全景分割和三维检测中，验证了该方法的可扩展性和泛化能力。</p>
<h4 id="dataset-and-metric">Dataset and Metric</h4>
<h5 id="semantic-kitti">semantic KITTI：</h5>
<ul>
<li>包括语义分割和场景分割</li>
<li>有 22 个序列，00-10 是训练集，11-21 是测试集，08 可以用作验证集</li>
<li>进行整合后留下 19 个类别用于训练和验证</li>
</ul>
<h5 id="nuscenes">nuScenes：</h5>
<ul>
<li>32 束激光雷达传感器采集了 20 秒内的 1000 个场景，总帧数为 40000，采样频率为 20Hz</li>
<li>整合后有 16 个种类用于语义分割</li>
</ul>
<h5 id="evaluation-metric 评价指标">Evaluation Metric（评价指标）：</h5>
<ul>
<li>mIoU：mean intersection-over-union</li>
<li>表达式：IoU= <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.158ex;" xmlns="http://www.w3.org/2000/svg" width="14.031ex" height="3.142ex" role="img" focusable="false" viewBox="0 -877 6201.5 1388.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(2586.3,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(704,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g></g><g data-mml-node="mrow" transform="translate(220,-370.3) scale(0.707)"><g data-mml-node="mi"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">（</text></g><g data-mml-node="mi" transform="translate(1000,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(1704,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(2455,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(3233,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(3982,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(4733,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(5511,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(6260,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(7148,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">）</text></g></g><rect width="5961.5" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container></span></li>
</ul>
<h4 id="ablation-studies 消融实验">ablation studies（消融实验）</h4>
<p><strong style="color:#00b0f0;">作者做的表很好，两张表说明一切。</strong></p>
<h5 id="网络的影响">网络的影响</h5>
<p><img src="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220839245.png" alt="image-20221222083946070" style="zoom:80%;"></p>
<h5 id="非对称卷积的影响">非对称卷积的影响</h5>
<p><img src="https://gitee.com/easonxu01/blogimg/raw/master/img/202212220842768.png" alt="image-20221222084203701" style="zoom:80%;"></p>
<h5 id="泛化实验">泛化实验</h5>
<p><strong style="color:#00b0f0;">之后作者为了证明他提出的东西确实很好，好在本质上，又在全景分割和 3D 目标检测方向做了一些实验，有点像
transfomer
的原论文（或是 DETR 的原论文）记不太清了 hhhh。不过作者已经进行了消融实验，文章结构已经完整了。</strong></p>
<blockquote>
<p>其实 Cylinder 这种表示很早就有了，3D sparse
Convolution 也早就有了。而发现柱坐标的 voxel 和普通三维栅格的表示相同，都可以用 3D
sparse Convolution 做特征提取这个问题就很妙。</p>
</blockquote>
<blockquote>
<p>本文的效果也许可以再次证明，sparse
convolution 的特征提取效果可能要优于 point-based network 的方法的。</p>
</blockquote>
<h3 id="conclusion">conclusion</h3>
<p>牛🐂！</p>
<h2 id="代码运行">代码运行</h2>
<h2 id="代码解析">代码解析</h2>

    </div>

    
    
    

    
      <div>
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:24px;">-------------我是底线<i class="fa fa-paw"></i>欢迎你来这里-------------</div>
    
</div>
      </div>
    
        <div class="reward-container">
  <div>原创技术分享，您的支持将鼓励我继续创作</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="小徐 微信支付">
        <p>微信支付</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>小徐
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://xuzikun.com/2022/12fb65dca3.html" title="《Cylindrical and Asymmetrical 3D Convolution Networks for LiDAR Segmentation》读书笔记">http://xuzikun.com/2022/12fb65dca3.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/DL/" rel="tag"># DL</a>
              <a href="/tags/Lidar/" rel="tag"># Lidar</a>
              <a href="/tags/Segmentation/" rel="tag"># Segmentation</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/12f9475ba3.html" rel="prev" title="《LESS：Label-Efficient Semantic Segmentation for LiDAR Point Clouds》 读书笔记">
      <i class="fa fa-chevron-left"></i> 《LESS：Label-Efficient Semantic Segmentation for LiDAR Point Clouds》 读书笔记
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC81NzYxNi8zNDA4MA=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#cylindrical-and-asymmetrical-3d-convolution-networks-for-lidar-segmentation%20%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0"><span class="nav-number">1.</span> <span class="nav-text">《Cylindrical
and Asymmetrical 3D Convolution Networks for LiDAR
Segmentation》读书笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB"><span class="nav-number">1.1.</span> <span class="nav-text">论文解读</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#abstract-introduction"><span class="nav-number">1.1.1.</span> <span class="nav-text">abstract &amp; introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#related-works"><span class="nav-number">1.1.2.</span> <span class="nav-text">related works</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A4%E5%86%85%E7%82%B9%E4%BA%91%E5%88%86%E5%89%B2"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">室内点云分割</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A4%E5%A4%96%E7%82%B9%E4%BA%91%E5%88%86%E5%89%B2"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">室外点云分割</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d%20%E4%BD%93%E7%B4%A0%E5%88%92%E5%88%86"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">3D 体素划分</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#methodology"><span class="nav-number">1.1.3.</span> <span class="nav-text">Methodology</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%86%E6%9E%B6"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">框架</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cylindrical-partition"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">Cylindrical Partition</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#asymmetrical-3d-convolution-network"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">Asymmetrical 3D Convolution
Network</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#asymmetrical-residual-block"><span class="nav-number">1.1.3.3.1.</span> <span class="nav-text">Asymmetrical Residual Block</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#dimension-decomposition-based-context-modeling"><span class="nav-number">1.1.3.3.2.</span> <span class="nav-text">Dimension-Decomposition
based Context Modeling</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#point-wise-refinement-module"><span class="nav-number">1.1.3.4.</span> <span class="nav-text">Point-wise Refinement Module</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87%E5%87%BD%E6%95%B0"><span class="nav-number">1.1.3.5.</span> <span class="nav-text">目标函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E9%83%A8%E5%88%86"><span class="nav-number">1.1.4.</span> <span class="nav-text">实验部分</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#dataset-and-metric"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">Dataset and Metric</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#semantic-kitti"><span class="nav-number">1.1.4.1.1.</span> <span class="nav-text">semantic KITTI：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#nuscenes"><span class="nav-number">1.1.4.1.2.</span> <span class="nav-text">nuScenes：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#evaluation-metric%20%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="nav-number">1.1.4.1.3.</span> <span class="nav-text">Evaluation Metric（评价指标）：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ablation-studies%20%E6%B6%88%E8%9E%8D%E5%AE%9E%E9%AA%8C"><span class="nav-number">1.1.4.2.</span> <span class="nav-text">ablation studies（消融实验）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="nav-number">1.1.4.2.1.</span> <span class="nav-text">网络的影响</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8D%B7%E7%A7%AF%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="nav-number">1.1.4.2.2.</span> <span class="nav-text">非对称卷积的影响</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B3%9B%E5%8C%96%E5%AE%9E%E9%AA%8C"><span class="nav-number">1.1.4.2.3.</span> <span class="nav-text">泛化实验</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#conclusion"><span class="nav-number">1.1.5.</span> <span class="nav-text">conclusion</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C"><span class="nav-number">1.2.</span> <span class="nav-text">代码运行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90"><span class="nav-number">1.3.</span> <span class="nav-text">代码解析</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="小徐"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">小徐</p>
  <div class="site-description" itemprop="description">今天珍惜今天</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Easonxu-01" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Easonxu-01" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/1021013634@qq.com" title="E-Mail → 1021013634@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/7306237358" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;7306237358" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022-11 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小徐</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 


<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共35.5k字</span>
</div>

<div>
  <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
  <script>
      var now = new Date(); 
      function createtime() { 
          var grt= new Date("08/10/2020 00:00:00");//在此处修改你的建站时间
          now.setTime(now.getTime()+250); 
          days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
          if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
          mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
          snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
          document.getElementById("timeDate").innerHTML = "已运行 "+dnum+" 天 "; 
          document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
      } 
  setInterval("createtime()",250);
  </script>
  </div>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>


  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/clicklove.js"></script>

  
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":125,"height":250},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>


